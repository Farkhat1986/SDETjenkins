# Тестирование WordPress Users API (CRUD операции)

Набор тест-кейсов для тестирования CRUD операций с пользователями через WordPress REST API.

## Общая информация

**Базовый URL:** `http://localhost:8000/index.php?rest_route=/wp/v2/users`  
**Аутентификация:** Требуются права администратора

## Быстрый старт

```bash
# Склонировать репозиторий
git clone https://github.com/Farkhat1986/SDETjenkins.git

# Зайти в проект
cd SDETjenkins

# Создать и активировать виртуальное окружение
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/Mac

# Установить зависимости
pip install -r requirements.txt
```
## Тест-кейсы CRUD операций

## TC-CRUD-001: Создание пользователя (CREATE)
**Цель:**

- Проверить успешное создание нового пользователя в системе

**Шаги:**

1. Отправить POST запрос на http://localhost:8000/index.php?rest_route=/wp/v2/users
```
{
  "username": "new_test_user",
  "email": "new_user@example.com",
  "password": "securepassword123",
  "name": "New Test User",
  "roles": ["subscriber"]
}
```

2. Сохранить ID созданного пользователя из ответа

3. Проверить код ответа и наличие ID в теле ответа


**Ожидаемый результат:**

- HTTP статус: 201 (Created)

- В теле ответа присутствует поле id

- Все переданные данные сохраняются корректно

## TC-CRUD-002: Чтение пользователя (READ)
**Цель:**

- Проверить получение данных созданного пользователя

**Предусловие:**

- Пользователь создан (из TC-CRUD-001)

**Шаги:**

1. Отправить GET запрос на http://localhost:8000/index.php?rest_route=/wp/v2/users/{id}

2. Проверить код ответа

3. Сравнить полученные данные с данными, отправленными при создании

**Ожидаемый результат:**

- HTTP статус: 200 (OK)

- Все поля пользователя соответствуют данным, переданным при создании

- Поле password отсутствует в ответе (безопасность)

## TC-CRUD-003: Обновление пользователя (UPDATE)
**Цель:**

- Проверить корректное обновление данных существующего пользователя

**Предусловие:**

- Пользователь создан (из TC-CRUD-001)

**Шаги:**

1. Отправить POST запрос на http://localhost:8000/index.php?rest_route=/wp/v2/users/{id}
```
{
  "name": "Updated User Name",
  "email": "updated_email@example.com",
  "nickname": "updated_nickname",
  "description": "This is an updated description"
}
```
2. Проверить код ответа

3. Отправить GET запрос для получения обновленных данных

4. Проверить, что данные изменились согласно запросу

**Ожидаемый результат:**

- HTTP статус при обновлении: 200 (OK)

- При получении данных все обновленные поля соответствуют новым значениям

- Неизмененные поля сохраняют свои значения

## TC-CRUD-004: Удаление пользователя (DELETE)

**Цель:**

- Проверить корректное удаление пользователя из системы

**Предусловие:**

- Пользователь создан (из TC-CRUD-001)

**Шаги:**

1. Отправить DELETE запрос на http://localhost:8000/index.php?rest_route=/wp/v2/users/{id}&force=true&reassign=1

2. Проверить код ответа

3. Попытаться получить удаленного пользователя через GET запрос

4. Проверить код ответа при попытке получения

**Ожидаемый результат:**

- HTTP статус при удалении: 200 (OK)

- HTTP статус при попытке получения удаленного пользователя: 404 (Not Found)

- Пользователь полностью удален из системы

## TC-CRUD-005: Полный цикл CRUD операций

Цель: Проверить полный жизненный цикл пользователя в системе

**Шаги:**

1. CREATE: Создать пользователя с данными:
```
{
  "username": "crud_test_user",
  "email": "crud_test@example.com",
  "password": "testpassword123",
  "name": "CRUD Test User"
}
```
- Проверить статус 201 и наличие ID

2. READ: Получить созданного пользователя

- Проверить статус 200 и соответствие данных

3. UPDATE: Обновить данные пользователя:
```
{
  "name": "Updated CRUD User",
  "email": "updated_crud@example.com"
}
```
- Проверить статус 200

4. READ: Снова получить пользователя для проверки обновлений

- Проверить, что данные обновились

5. DELETE: Удалить пользователя

- Проверить статус 200

6. READ: Попытаться получить удаленного пользователя

- Проверить статус 404

**Ожидаемый результат:**

- Все операции выполняются последовательно без ошибок

- Данные сохраняются и обновляются корректно на каждом этапе

- После удаления пользователь недоступен в системе

# Параметры API

## Методы HTTP:
- POST - создание пользователя

- GET - чтение пользователя/списка пользователей

- POST - обновление пользователя (для WordPress REST API)

- DELETE - удаление пользователя

**Обязательные параметры при создании:**
- username - уникальное имя пользователя

- email - валидный email адрес

- password - пароль пользователя

**Параметры удаления:**
- force=true - обязательное подтверждение удаления

- reassign=1 - ID пользователя, которому передадутся записи


